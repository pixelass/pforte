{"mappings":";;;;AAAA;;;AAUO,eAAe,yCAAU,GAAG;IAClC,MAAM,YAAY,GAAG,CAAA,GAAA,eAAO,CAAA,CAAC,GAAG,CAAC,CAAA,GAAA,0BAAmB,CAAA,CAAC,AAAC;IACtD,IAAI,YAAY,EAAE;QACjB,MAAM,SAAS,GAAG,CAAA,GAAA,eAAO,CAAA,CAAC,GAAG,CAAC,CAAA,GAAA,uBAAgB,CAAA,CAAC,AAAC;QAChD,IAAI;YACH,MAAM,QAAE,IAAI,CAAA,EAAE,GAAG,MAAM,CAAA,GAAA,YAAK,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAA,GAAA,mBAAY,CAAA,CAAC,CAAC,EAAE;8BACrD,YAAY;2BACZ,SAAS;aACT,CAAC,AAAC;YACH,OAAO,IAAI,CAAC,IAAI,CAAC;SACjB,CAAC,OAAO,KAAK,EAAE;YACf,OAAO,IAAI,CAAC;SACZ;KACD;IACD,OAAO,IAAI,CAAC;CACZ;AAEM,eAAe,yCAAM,CAAC,QAAQ,EAAE;IACtC,MAAM,OAAO,GAAG,MAAM,yCAAU,EAAE,AAAC;IACnC,IAAI,CAAC,OAAO,EACX,IAAI;QACH,MAAM,QAAE,IAAI,CAAA,EAAE,GAAG,MAAM,CAAA,GAAA,YAAK,CAAA,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAA,GAAA,kBAAW,CAAA,CAAC,CAAC,EAAE;YAAE,MAAM,EAAE;0BAAE,QAAQ;aAAE;SAAE,CAAC,AAAC;QAC9E,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;QAChC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EACzB,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;KAE1B,CAAC,OAAO,KAAK,EAAE;QACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;KACrB;CAEF;AAEM,eAAe,yCAAO,GAAG;IAC/B,MAAM,CAAC,QAAQ,CAAC,QAAQ,GAAG,CAAC,CAAC,EAAE,GAAA,mBAAY,CAAC,CAAC,CAAC;CAC9C","sources":["packages/client/src/index.ts"],"sourcesContent":["import {\n\tAUTH_CSRF_COOKIE,\n\tAUTH_SESSION_COOKIE,\n\tSESSION_PATH,\n\tSIGNIN_PATH,\n\tSIGNOUT_PATH,\n} from \"@pforte/constants\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nexport async function getSession() {\n\tconst sessionToken = Cookies.get(AUTH_SESSION_COOKIE);\n\tif (sessionToken) {\n\t\tconst csrfToken = Cookies.get(AUTH_CSRF_COOKIE);\n\t\ttry {\n\t\t\tconst { data } = await axios.post(`/${SESSION_PATH}`, {\n\t\t\t\tsessionToken,\n\t\t\t\tcsrfToken,\n\t\t\t});\n\t\t\treturn data.data;\n\t\t} catch (error) {\n\t\t\treturn null;\n\t\t}\n\t}\n\treturn null;\n}\n\nexport async function signIn(provider) {\n\tconst session = await getSession();\n\tif (!session) {\n\t\ttry {\n\t\t\tconst { data } = await axios.get(`/${SIGNIN_PATH}`, { params: { provider } });\n\t\t\twindow.location.href = data.url;\n\t\t\tif (data.url.includes(\"#\")) {\n\t\t\t\twindow.location.reload();\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n}\n\nexport async function signOut() {\n\twindow.location.pathname = `/${SIGNOUT_PATH}`;\n}\n"],"names":[],"version":3,"file":"index.js.map"}